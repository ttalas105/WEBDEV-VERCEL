<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="/css/main.css"> 
</head>
<body>
    <h1 class="text-4xl mb-4">Employees List</h1>
    <div class="mb-4">
        <a href="/" class="btn btn-primary">Home</a>
        <a href="/employees/add" class="btn btn-secondary">Add Employee</a>
    </div>
    
    <% if (empList.length === 0) {%>
        <p>There are no employees!</p>
    <% } else { %>

        <!-- loop through the list and dipslay  -->
        <% for (let i = 0; i < empList.length; i++) { %>
            <div class="border-b-2 p-4">
                <p>Name: <%= empList[i].name %></p>
                <p>Rate: <%= empList[i].hourlyRate %></p>

                <% if (empList[i].isManager === true) { %>
                    <p>This person is a manager!</p>
                <% } %> 

                <% if (empList[i].dept === undefined) { %>
                    <p class="text-error">ERROR: no dept</p>
                <% } else { %>
                    <p><%= empList[i].dept.name %></p>
                    <p><%= empList[i].dept.location %></p>
                    <a href="/remove/<%= empList[i]._id %>" class="link link-primary">Remove from dept</a>
                 <% } %> 
            </div>
            
        <% } %>


    <% }  %>
</body>
</html>